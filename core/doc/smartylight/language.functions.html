<html>
<head>
	<title>Functions :: Smarty-Light</title>
</head>
<body>
<h4>Smarty-Light - the faster compiling PHP template engine</h4>
<h1>Functions</h1>
<hr>
<h2><a name="assign"><code>assign</code></a></h2>
<p>
	<h4>Description</h4>
	This function will create a new variable from the template and assign a value to it.

	<h4>Arguments</h4>
	<ul>
		<li><b>name</b><br>The name of the variable that you are assigning a value to.</li>
		<li><b>value</b><br>The value of the variable. This can be a string literal, or another variable, modified perhaps. It can also be a concatenated variable.</li>
	</ul>

	<h4>Example</h4>
	<pre>
	TEMPLATE
	=============================
	&lt;% assign name="test" value="this is a test variable"|upper %&gt;
	The value of $test is &lt;% $test %&gt;.

	OUTPUT
	=============================
	The value of $test is THIS IS A TEST VARIABLE.
	</pre>
</p>
<hr>

<h2><a name="config_load"><code>config_load</code></a></h2>
<p>
	<h4>Description</h4>
	This function will load a config file into a template.

	<h4>Arguments</h4>
	<ul>
		<li><b>file</b><br>The name of the config file to load.</li>
		<li><b>section</b> (optional)<br>The section to load.</li>
		<li><b>var</b> (optional)<br>The variable to load.</li>
	</ul>

	<h4>Example</h4>
	<pre>
	EXAMPLE
	=============================
	&lt;% config_load file="config.conf" %&gt;
	&lt;% #variable# %&gt;
	</pre>
</p>
<hr>

<h2><a name="foreach"><code>foreach/foreachelse</code></a></h2>
<p>
	<h4>Description</h4>
	Much as the name describes, this function behaves exactly like <code><a href="http://www.php.net/foreach">foreach</a></code>. It will loop through an array and return the output.

	<h4>Arguments</h4>
	<ul>
		<li><b>from</b><br>The array we are going to loop through.</li>
		<li><b>value</b><br>The name of the variable that will hold the current variable value.</li>
		<li><b>key</b> (optional)<br>The name of the variable that will hold the current key.</li>
	</ul>

	<h4>Example</h4>
	<pre>
	PHP
	=============================
	$tpl->assign("contacts", array(
		array("phone" => "1", "fax" => "2", "cell" => "3"),
		array("phone" => "555-4444", "fax" => "555-3333", "cell" => "760-1234")
	));

	TEMPLATE
	=============================
	&lt;% foreach value=contact from=$contacts %&gt;
		&lt;% foreach key=key value=item from=$contact %&gt;
			&lt;% $key %&gt;: &lt;% $item %&gt;&lt;br&gt;
		&lt;% /foreach %&gt;
	&lt;% /foreach %&gt;

	OUTPUT
	=============================
	phone: 1&lt;br&gt;
	fax: 2&lt;br&gt;
	cell: 3&lt;br&gt;
	phone: 555-4444&lt;br&gt;
	fax: 555-3333&lt;br&gt;
	cell: 760-1234&lt;br&gt;
	</pre>
</p>
<hr>

<h2><a name="for"><code>for</code></a></h2>
<p>
	<h4>Description</h4>
	This function will loop through a block the specific number of times. It is very similar to PHP's <a href="http://www.php.net/manual/en/control-structures.for.php"><code>for</code></a>. You can specify a starting integer, an ending integer, and a step value.

	<h4>Arguments</h4>
	<ul>
		<li><b>start</b><br>An integer indicating the starting point of our loop.</li>
		<li><b>stop</b><br>An integer indicating the ending point of our loop.</li>
		<li><b>step</b><br>An integer indicating how many integers we are going to jump with each interation.</li>
		<li><b>value</b> (optional)<br>What local variable we want to store the current position in, if anyway.</li>
	</ul>

	<h4>Example</h4>
	<pre>
	EXAMPLE
	=============================
	&lt;% for start=0 stop=10 step=2 value=current %&gt;
	We are on number &lt;% $current %&gt;
	&lt;% /for %&gt;

	OUTPUT
	=============================
	We are on number 0
	We are on number 2
	We are on number 4
	We are on number 6
	We are on number 8
	</pre>
</p>
<hr>

<h2><a name="include"><code>include</code></a></h2>
<p>
	<h4>Description</h4>
	This function will process another template and include the results in the original template. Alternatively, it will process another template and store the results in a variable for use in the template that called the <code>include</code> to begin with. Included files are also compiled and optionally saved for faster execution.

	<h4>Arguments</h4>
	<ul>
		<li><b>file</b><br>The file we are going to include.</li>
		<li><b>assign</b> (optional)<br>This will optionally assign the included file to a variable instead of outputting it into the current template body.</li>
	</ul>

	<h4>Example</h4>
	<pre>
	EXAMPLE
	=============================
	&lt;% include file="template.tpl" %&gt;
	&lt;% include file=$page %&gt;
	</pre>
</p>
<hr>

<h2><a name="insert"><code>insert</code></a></h2>
<p>
	<h4>Description</h4>
	This function will insert text into a template. The text is generated by calling a matching function created by the programmer in PHP that will create necessary text, such as returning compiled template information, or other information for inclusion in the calling template. The output of an insert is not cached and thus an insert is called everytime a template is loaded.

	<h4>Arguments</h4>
	<ul>
		<li><b>name</b><br>This is the name of the insert. Used to define what function to call. Read more in the example.</li>
		<li><b>additional args</b> (optional)<br>This function will take an abitrary number of arguments and pass them along to the user-defined function.</li>
	</ul>

	<h4>Example</h4>
	<pre>
	PHP
	=============================
	function insert_stuffandjunk($params, &$tpl) {
		return $tpl->fetch('template.tpl','sidebar|template');
	}

	function insert_othercrap($params, &$tpl) {
		return "random text: " . $params["var"];
	}

	TEMPLATE
	=============================
	&lt;% insert name="stuffandjunk" %&gt;
	&lt;% insert name="othercrap" var="hi" %&gt;

	OUTPUT
	=============================
	This is the contents of <code>template.tpl</code>
	random text: hi
	</pre>
</p>
<hr>

<h2><a name="if"><code>if/elseif/else</code></a></h2>
<p>
	<h4>Description</h4>
	Much as the name describes, this is the equivalent to PHP's <code>if</code> statement. In fact, it offers exactly the same flexibility, if not more. Every <code>if</code>, though, must be paired with an <code>/if</code>. Additionally, <code>else</code> and <code>elseif</code> are permitted. The comparison tokens allowed are <code>eq</code>, <code>ne</code>, <code>neq</code>, <code>gt</code>, <code>lt</code>, <code>lte</code>, <code>le</code>, <code>gte</code>, <code>ge</code>, <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>. It is important to note that the comparison operators must be separated from the variables by at least one space.

	<h4>Example</h4>
	<pre>
	EXAMPLES
	=============================
	&lt;%if $name eq "Fred"%&gt;
		Welcome Sir.
	&lt;%elseif $name eq "Wilma"%&gt;
		Welcome Ma'am.
	&lt;%else%&gt;
		Welcome, whatever you are.
	&lt;%/if%&gt;

	&lt;%* an example with "or" logic *%&gt;
	&lt;%if $name eq "Fred" or $name eq "Wilma"%&gt;
		...
	&lt;%/if%&gt;

	&lt;%* same as above *%&gt;
	&lt;%if $name == "Fred" || $name == "Wilma"%&gt;
		...
	&lt;%/if%&gt;

	&lt;%* the following syntax will NOT work, conditional qualifiers
	   must be separated from surrounding elements by spaces *%&gt;
	&lt;%if $name=="Fred" || $name=="Wilma"%&gt;
		...
	&lt;%/if%&gt;

	&lt;%* parenthesis are allowed *%&gt;
	&lt;%if ( $amount < 0 or $amount > 1000 ) and $volume >= #minVolAmt#%&gt;
		...
	&lt;%/if%&gt;

	&lt;%* you can also embed php function calls *%&gt;
	&lt;%if count($var) gt 0%&gt;
		...
	&lt;%/if%&gt;
	</pre>
</p>
<hr>

<h2><a name="delim"><code>ldelim/rdelim</code></a></h2>
<p>
	<h4>Description</h4>
	These will insert the user-defined left delimiter and right delimiter into the template.

	<h4>Example</h4>
	<pre>
	TEMPLATE
	=============================
	Here is an example: &lt;% ldelim %&gt; config_load file="config.conf" &lt;% rdelim %&gt;

	OUTPUT
	=============================
	Here is an example: &lt;% config_load file="config.conf" %&gt;
	</pre>
</p>
<hr>

<h2><a name="literal"><code>literal</code></a></h2>
<p>
	<h4>Description</h4>
	This block function will take everything inside it and interpret it literally. This means that you can put template code inside of this function and it will not be parsed.

	<h4>Example</h4>
	<pre>
	EXAMPLE
	=============================
	&lt;% literal %&gt;
		Here is an example: &lt;% config_load file="config.conf" %&gt;
	&lt;% /literal %&gt;
	</pre>
</p>
<hr>

<h2><a name="php"><code>php</code></a></h2>
<p>
	<h4>Description</h4>
	This block function will take everything inside it and execute it as pure PHP code. Everything in this block gets sent directly to the PHP compiler. To access variables from the template engine from inside a <tt>php</tt> block, use <tt>$this->get_vars(varname)</tt>.

	<h4>Example</h4>
	<pre>
	EXAMPLE
	=============================
	&lt;% php %&gt;
		echo "Hello to " . $this-&gt;get_vars('username') . "<BR>";
	&lt;% /php %&gt;
	</pre>
</p>
<hr>

<h2><a name="switch"><code>switch/case</code></a></h2>
<p>
	<h4>Description</h4>
	Much like the name indicates, this function behaves very similar to PHP's <code><a href="http://www.php.net/switch">switch</a></code> function. It will execute a different block of code depending on the given value.

	<h4>Arguments for <code>switch</code></h4>
	<ul>
		<li><b>from</b><br>This is the variable that we will switch on. It is what will be compared.</li>
	</ul>

	<h4>Arguments for <code>case</code></h4>
	<ul>
		<li><b>value</b><br>This is the value that we will compare to the original variable. If value isn't provided, this will be the default case. There can only be one default case per switch.</li>
	</ul>

	<h4>Example</h4>
	<pre>
	TEMPLATE
	=============================
	&lt;% switch from=$variable %&gt;
		&lt;% case value="case1" %&gt;
			This is case number one.
		&lt;% case value="case2" %&gt;
			This is case number 2
		&lt;% case %&gt;
			This is the default. Nothing matched above.
	&lt;% /switch %&gt;
	</pre>
</p>
<hr>

<a href="index.html">Home</a>
</body>
</html>